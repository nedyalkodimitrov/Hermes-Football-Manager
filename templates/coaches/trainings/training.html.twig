{% extends 'coaches/base.html.twig' %}
{% block nav %}
    <a class="nav-item nav-link  ml-2" href="{{ path('coacheViewAction') }}">Начална страница</a>
    <a class="nav-item nav-link current-item ml-2" href="{{ path("trainingView") }}">Тренировки</a>
{% endblock %}
{% block style %}
    {{ parent() }}
    <link rel="stylesheet" href="  {{ asset("css/particles/hiddenFormStyle.css") }}">
    <link rel="stylesheet" href="{{ asset("css/particles/searchEngine.css") }}">
    <link rel="stylesheet" href="  {{ asset("css/coach/trainingPageStyle.css") }}">
    <link rel="stylesheet" href="  {{ asset("css/particles/searchResultsTable.css") }}">
{% endblock %}

{% block body %}
    <div class="col-12 row justify-content-center mx-auto">
        <div class="col-lg-10 col-sm-11 row m-0 text-center justify-content-center">
            <div class="col-lg-8 col-sm-12 m-0 text-center justify-content-center">
                <div class="create-training-container">
                    <a href="{{ path('trainingCalendarActionView') }}" class="create-training-a-container">
                        <p class="create-training-p">Създаване на седмична програма </p>
                        <div class="create-training-image-container">
                            <img src="{{ asset('images/footballGrass.jpg')}}" alt="" class="create-training-image">
                        </div>
                    </a>
                </div>
            </div>

        </div>
    </div>
    <hr class="col-lg-11 col-sm-10 mx-auto ">

    <div id="container">
        <div class="row mt-5 justify-content-center">
            <div class="col-lg-11 col-md-7 col-sm-11 col-10 coach-player-adding-container row pb-3">
                {% if players == null %}
                    <h1 class="col-12 text-center mt-4 mb-2">0 Играчи</h1>
                {% else %}
                    <h1 class="col-12 text-center mt-4 mb-2">{{ players.count }} Играчи</h1>
                {% endif %}

                {% set foo = 1 %}
                {% for player in players %}
                    <div class="col-lg-3 col-sm-12 ml-2 col-md-12 justify-content-center row mb-sm-2">
                        <div class="col-12 player-container " id="player-{{  foo }} ">
                            <a href="{{ path("playerAction", {id: player.id}) }}">
                                {%   if  player.Status == 0 %}
                                    <div class="status-green"></div>
                                {% else %}
                                    <div class="status-red"></div>
                                {%  endif %}

                                {% if player.Image == null or player.Image == ' ' %}
                                    <img src="{{asset('images/user-image.png')}}" alt="" class="player-img">
                                {% else %}
                                    <img src="{{asset('images/'~ player.Image )}}" alt="" class="player-img">
                                {% endif %}

                                <p class="player-name">{{ player.User.Name }} {{ player.User.FName }} </p>
                            </a>
                        </div>
                    </div>

                    {% set foo = foo + 1 %}
                {% endfor %}
                <div class="col-lg-3 col-sm-12 col-md-12 ml-2 justify-content-center player_portfolio row ">
                    <div class="col-12 player-container add-player-container justify-content-center text-center" id="player-{{  foo }} ">
                        <img src="{{ asset('images/plus .png') }}" alt="" class="add-player-img">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="player-status-container row justify-content-center ">
        <div class="col-9  player-status-div   justify-content-center" id="add-player" >
            <div class="container col-12 row justify-content-center search-container-holder">
                <div class="search-container mt-3  justify-content-center">
                    <div class="search-box full-sized-search-box">
                        <input type="text" placeholder="Ивайло Колев" class="search-text" id="search">
                        <button  class="search-button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="container col-12 p-0 mx-auto row">
                <div class="playerSearchResult col-12 p-0  ">
                </div>
            </div>
            <span><i class="fas fa-times-circle"></i></span>
        </div>
    </div>
    <script type="text/javascript" src="{{  asset("mdb/js/jquery-3.3.1.min.js")}}"></script>
    <script type="text/javascript" src="{{  asset("js/coach/searchPlayers.js")}}"></script>
    <script type="text/javascript" src="{{  asset("js/coach/sendRequestToPlayer.js")}}"></script>

    <script>
       function Click (value) {



           $.ajax({
               method: "POST",
               data: {"playerInfo": value},
               url: "sendPlayerRequest/"+value,
           })
               .done(function (data) {

                   console.log(value)
               });
               };

    </script>

{#    <script>#}
{#        // $('.phone').inputmask('Regex', {#}
{#        //     regex: "08([7-9])([0-9]{7})+",#}
{#        //     alias: "string",#}
{#        //     clearIncomplete: true#}
{#        // });#}
{#        // $(".name").inputmask("Regex", {#}
{#        //     regex:'[А-Я][а-я]+' ,#}
{#        //     alias: "string",#}
{#        //     clearIncomplete: true#}
{#        // });#}
{#        // $(".fName").inputmask("Regex", {#}
{#        //     regex:'[А-Я][а-я]+' ,#}
{#        //     alias: "string",#}
{#        //     clearIncomplete: true#}
{#        // });#}


{#        $('#search').on('keyup', function () {#}
{#            var playerInfo = document.getElementById('search').value;#}
{#            console.log(playerInfo);#}
{#            $.ajax({#}
{#                method: "POST",#}
{#                data: {"playerInfo": playerInfo},#}
{#                url: "{{ path('trainingAction') }}",#}
{#            })#}
{#                .done(function( players ) {#}
{#                    for (var i = 0; i < players.length; i++){#}

{#                        var imagePath = players[i][0]['player']['img'];#}

{#                        if(imagePath == null){#}
{#                            imagePath = "user-image.png";#}
{#                        }#}


{#                        $('.player').remove();#}
{#                        $('.player-search-results').append#}
{#                        ("<div class=\"col-lg-4 col-sm-12 ml-2 col-md-12 justify-content-center row mb-sm-2 player \">" +#}
{#                            "<div class='col-12 player-container player' id=player-1 >"+#}
{#                                "<a>"+#}
{#                                    "<img src='../images/"+ imagePath + "' alt='' class=player-img>"+#}
{#                                    "<p class=player-name>"+ players[i][0]['name']+"</p>"+#}
{#                                "</a>"+#}
{#                            "</div>"+#}
{#                            "</div>")#}
{#                    }#}
{#                });#}
{#        });#}

    <script type="text/javascript" src="{{ asset("js/hidingDiv.js") }}"></script>
{% endblock %}